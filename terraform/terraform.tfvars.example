# Example Terraform variables file
# Copy this file to terraform.tfvars and customize for your environment

# Required variables
project_id = "your-gcp-project-id"

# Environment configuration
environment = "dev"  # Change to "prod" for production
region      = "us-central1"  # Use "asia-northeast1" for production

# Storage configuration
bucket_location         = "US"  # Use "ASIA" for production
lifecycle_coldline_days = 30   # Standard lifecycle
lifecycle_archive_days  = 365  # Archive after 1 year
lifecycle_delete_days   = 0    # Set to 0 to never delete, or specify days

# Authentication configuration
allowed_domains = [
  # Add your organization's domains here
  # "example.com"
]

allowed_users = [
  # Add specific user emails here
  # "admin@example.com"
]

# Cloud Run configuration
enable_public_access = true   # Set to false for production (use IAP)
min_instances       = 0      # Set to 1 for production
max_instances       = 3      # Adjust based on expected load (10 for production)
cpu_limit          = "1000m"
memory_limit       = "2Gi"

# Container image (will be updated during deployment)
container_image = "gcr.io/PROJECT_ID/imgstream:latest"

# Custom domain (optional - configure if you have a domain)
# custom_domain = "imgstream.example.com"

# Create default secrets
create_default_secrets = true

# IAP configuration (required for production)
iap_support_email = "admin@example.com"  # TODO: Update with actual support email
enable_iap = false  # Set to true for production
enable_security_policy = false  # Set to true for production
enable_waf_rules = false  # Set to true for production
rate_limit_requests_per_minute = 100  # Standard rate limit
session_duration = 3600  # 1 hour

# Geographic restrictions (optional)
# allowed_countries = ["US", "CA", "JP"]  # Uncomment and specify allowed countries

# GitHub Actions OIDC configuration
github_repository = "your-username/your-repository-name"  # Replace with your GitHub repository
